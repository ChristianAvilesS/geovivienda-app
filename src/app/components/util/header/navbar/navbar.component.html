<div class="header-nav">
  <mat-toolbar class="flex-align">
    <div>
      <button mat-icon-button [matMenuTriggerFor]="menu">
        <mat-icon class="text-white self-center">menu</mat-icon>
      </button>
    </div>

    @if (estaLogeado) {
    <button mat-icon-button class="btn-white btn-circle">
      <mat-icon [matMenuTriggerFor]="menuUsuario">person</mat-icon
      >
    </button>

    } @else {
    <div class="d-flex gap-3">
      <button mat-raised-button [routerLink]="['inicio-sesion']">
        Iniciar Sesión
      </button>
      <button mat-raised-button [routerLink]="['registro']">Registrar</button>
    </div>
    }
  </mat-toolbar>
</div>


<mat-menu #menu="matMenu">
  <button mat-menu-item [routerLink]="['/']">Inicio</button>
  <button mat-menu-item [routerLink]="['/inmuebles/listado']">
    Inmuebles
  </button>
  @if(estaLogeado) {
  <button mat-menu-item [routerLink]="['/inmuebles/agregar']">
    Agregar
  </button>

  @if (esAdmin) {
  <button mat-menu-item [routerLink]="['/usuarios/listado']">
    Usuarios
  </button>
  <button mat-menu-item [routerLink]="['/roles']">Roles</button>
  <button mat-menu-item [routerLink]="['/medios-pago/listado']">
    Medios de Pago
  </button>
  <button mat-menu-item [routerLink]="['/reportes']">Reportes</button>
  }
  }
</mat-menu>


<mat-menu #menuUsuario="matMenu">
  <button mat-menu-item [routerLink]="['usuarios/perfil']">
    Ver Perfil
  </button>
  <button mat-menu-item (click)="cerrarSesion()">Cerrar Sesión</button>
</mat-menu>
